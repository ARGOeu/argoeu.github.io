<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>Installation | ARGO</title>
  <link rel="alternate" type="application/atom+xml" title="API Changes" href="/changes.atom" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="/shared/favicon.ico">
  <!-- Bootstrap core CSS -->
  <link href="/shared/css/bootstrap.min.css" rel="stylesheet">
  
  <link rel="stylesheet" href="/shared/css/font-awesome.min.css">
  <link rel="stylesheet" href="/shared/css/font-beba.css">

  <link href="/shared/css/custom.css" rel="stylesheet">
  <script src="/shared/js/ie-emulation-modes-warning.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body class="api">
  <!-- Fixed navbar -->
<nav class="navbar navbar-inverse navbar-fixed-top">
	<div class="container">
		<div class="navbar-header">
		  <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
		    <span class="sr-only">Toggle navigation</span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		  </button>
		  <a class="navbar-brand" href="#"><img src='/shared/images/argo-logo.png' alt='Argo'  /></a>
		</div>
		<div id="navbar" class="navbar-collapse collapse">
		  <ul class="nav navbar-nav navbar-right">
		    <li class="active"><a href="/index.html#">Home</a></li>
		    <li><a href="/index.html#what">About</a></li>
		    <li><a href="/index.html#features">Features</a></li>
		    <li><a href="/use-cases/">Use cases</a></li>
		    <li class="dropdown">
		      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentation <span class="caret"></span></a>
		      <ul class="dropdown-menu" role="menu">
			<li><a href="/overview/"><i class="fa fa-file-text-o"></i>  Overview</a></li>
			<li><a href="/guides/installation/"><i class="fa fa-file-text-o"></i>  Installation</a></li>
			<li><a href="/guides/sync/"><i class="fa fa-refresh"></i > Sync components</a></li>
			<li><a href="/guides/poem/"><i class="fa fa-check-square-o"></i>  Poem service</a></li>
			<li><a href="/guides/consumer/"><i class="fa fa-send-o"></i>  Consumer</a></li>
			<li><a href="/guides/compute/"><i class="fa fa-cog"></i>  Compute Engine</a></li>
			<li><a href="/guides/webui/"><i class="fa fa-connectdevelop"></i>  Web UI</a></li>
			<li class="divider"></li>
			<li class="dropdown-header">Developers</li>
			<li><a href="/guides/api/"><i class="fa fa-cogs"></i>  API </a></li>
			<li><a href="#"><i class="fa fa-github-alt"></i>  Github</a></li>
		      </ul>
		    </li>
		  </ul>
		</div><!--/.nav-collapse -->
	</div><!--container-->
</nav>

  <div class='container-fluid' >
    <div class='row'>
        <div class="col-md-2 sidebar">
                   <div class="list-group">	
            <a class="list-group-item disabled blue" href="#">Documentation</a>
          
            <a class="list-group-item" href="/overview/">Overview</a>
          
          	
            <a class="list-group-item active" href="/guides/installation/">Installation</a>
          
            <a class="list-group-item disabled blue" href="#">Components</a>
          
            <a class="list-group-item" href="/guides/sync/"><i class="fa fa-refresh"></i> Sync components</a>
          
          
            <a class="list-group-item" href="/guides/poem/"><i class="fa fa-check-square-o"></i> Poem service</a>
          
          
            <a class="list-group-item" href="/guides/consumer/"><i class="fa fa-send-o"></i> Consumer</a>
          
            
            <a class="list-group-item " href="/guides/compute/"><i class="fa fa-cog"></i> Compute Engine</a>
          
          
            <a class="list-group-item" href="/guides/api/" >
          
          <i class="fa fa-cogs"></i> API</a>
          
            <a class="list-group-item" href="/guides/webui/"><i class="fa fa-connectdevelop"></i> Web UI</a>
          
          </div> <!--list group-->

        </div>
        <div class="col-md-8 main">
          	
            <h1 class="highlight">
            
            Installation</h1>
          
          <p class="lead"> </p>
          
<h1 id="installation">Installation</h1>

<p>This document will guide you through the installation process. The ARGO A/R components include the following items:</p>

<ul>
  <li>Sync Components</li>
  <li>Consumer service</li>
  <li>Compute Engine</li>
  <li>API service</li>
  <li>Web UI service</li>
</ul>

<p>These can be co-located on a single machine or more. Note that with respect to the Compute Engine Component there are two options, either to use the standalone version or the distributed version. The latter one requires interconnection with a Hadoop cluster. </p>

<p>The minimum requirements to meet in case of a single machine (standalone version) are the following:</p>

<ul>
  <li>4 CPUs</li>
  <li>8 GB RAM</li>
  <li>200 GB Disk</li>
</ul>

<p>For a production scale environment we propose two machines and a Hadoop cluster (distributed version). This is the setup that is used in production for EGI purposes and needs. In this case the minimum requirements are</p>

<ul>
  <li>Node 1 (Sync components, Consumer service and Hadoop client)</li>
  <li>2 CPUs</li>
  <li>4GB RAM</li>
  <li>100 GB Disk</li>
  <li>Node 2 (API and Web UI services)</li>
  <li>2 CPUs</li>
  <li>4GB RAM</li>
  <li>100 GB Disk</li>
</ul>

<p>Instructions on setting up follow:</p>

<h2 id="standalone-mode">Standalone mode</h2>

<p>You will need a RHEL 6.x or similar (base installation) to proceed. As a first step make sure that on your host an ntp client service is configured properly. </p>

<h3 id="software-repositories">Software Repositories</h3>

<p>On your host the next step is to install (as root user) the ar-release package via yum:</p>

<pre><code># yum install http://rpm.hellasgrid.gr/mash/centos6-arstats/x86_64/ar-release-1.0.0-3.21.el6.noarch.rpm
</code></pre>

<p>This package will configure on the host(s) the repository files under <code>/etc/yum.repos.d</code>.</p>

<p>Also install the EPEL repository. This can be done by installing the epel-release package for the appropriate OS. For example:</p>

<pre><code># yum install http://dl.fedoraproject.org/pub/epel/6/x86_64/epel-release-6-8.noarch.rpm 
</code></pre>

<p>You will also need to install the cloudera repository for Hadoop components to be retrieved (although you will not install any Hadoop cluster, some libraries from the Hadoop ecosystem are needed). Under a file named <code>/etc/yum.repos.d/cloudera-cdh4.repo</code> place the following contents:</p>

<pre><code>[cloudera-cdh4]
name=Cloudera's Distribution for Hadoop, Version 4
baseurl=http://archive.cloudera.com/cdh4/redhat/6/$basearch/cdh/4/
gpgkey = http://archive.cloudera.com/cdh4/redhat/6/$basearch/cdh/RPM-GPG-KEY-cloudera
gpgcheck = 1
enabled = 1
</code></pre>

<p>You will also need to install the EGI trust anchors repository (this is needed on the host for communicating with GOCDB PI service). Under a file named <code>/etc/yum.repos.d/EGI-trustanchors.repo</code> place the following contents:</p>

<pre><code>[EGI-trustanchors]
name=EGI-trustanchors
baseurl=http://repository.egi.eu/sw/production/cas/1/current/
enabled=1
gpgcheck=1
gpgkey=http://repository.egi.eu/sw/production/cas/1/GPG-KEY-EUGridPMA-RPM-3
</code></pre>

<p>You will finally need to add a MongoDB repository. The name of the file should be <code>/etc/yum.repos.d/mongodb.repo</code>) and its contents should be:</p>

<pre><code>[mongodb]
name=MongoDB Repository
baseurl=http://downloads-distro.mongodb.org/repo/redhat/os/x86_64/
gpgcheck=0
enabled=1
</code></pre>

<h3 id="sync-components-and-consumer-service">Sync Components and Consumer Service</h3>

<p>First of all install the ca_bundle meta-rpm with the following command:</p>

<pre><code># yum install ca-policy-egi-core
</code></pre>

<p>As a next step you should request and obtain an x509 host certificate from your national IGTF (Grid-related) approved CA and place the key/certificate pair under <code>/etc/grid-security/</code> folder with the following names and permissions:</p>

<ul>
  <li>Key file: <code>/etc/grid-security/hostkey.pem</code> and permissions: 0400</li>
  <li>Certificate file: <code>/etc/grid-security/hostcert.pem</code> and permissions: 0644</li>
</ul>

<p>Next, as root user install the following packages via yum:</p>

<pre><code># yum install ar-consumer
# yum install ar-sync
</code></pre>

<p>The ar-sync package installs components needed for refreshing the current status of the monitored system.</p>

<p>The ar-consumer service can be configured to connect to a pool of EGI message brokers. By default the config is set to <code>mq.afroditi.hellasgrid.gr</code> and <code>mq.cro-ngi.hr</code>. </p>

<p>This configuration is suggested as it will allow the consumer service to cycle to the next broker in the case the one it is connected to fails for some reason. </p>

<p>Start consumer service and make sure to add it to appropriate run levels:</p>

<pre><code># chkconfig ar-consumer on
# service ar-consumer start
</code></pre>

        </div><!--col-md-8-->
        <div class="col-md-2">&nbsp;</div>
      </div><!--row-->
    </div><!--container fluid-->
    <!-- from -->
<div class="jumbotron">
    <div class="container" style='padding-left:40px;'>
      <a href='https://www.grnet.gr/en' target='blank'><img src='/shared/images/grnet_transparent.png' style='padding-left:40px;' alt='GRNET S.A - Greek Research & Technology Network' title='GRNET S.A - Greek Research & Technology Network'/></a>
      <a href='http://www.cnrs.fr/' target='blank'><img src='/shared/images/cnrs.png' style='padding-left:40px;' alt='Centre national de la recherche scientifique' title='Centre national de la recherche scientifique'/></a>
      <a href='http://www.srce.unizg.hr/en/' target='blank'><img src='/shared/images/srce.png' style='padding-left:40px;' alt='SCRE - Web stranice Sveučilišnog računskog centra' title='SCRE - Web stranice Sveučilišnog računskog centra'/></a>
      <a href='http://www.egi.eu' target='blank'><img src='/shared/images/egi2.png' style='padding-left:40px;margin-top:-20px;' alt='European Grid Infrastructure' title='European Grid Infrastructure'/></a>
    </div> <!-- /container -->
</div> <!-- jumbotron -->
<!-- from-->


  
<!--footer -->
    <footer  id="footer" class="footer">
	<div class='footer_top'>       
	<div class="row ">
       </div>
       <div class="row ">
	
        <div class=" col-md-offset-1 col-md-3">
		<p><img src='/shared/images/argo-logo.png' alt='Argo'  /></p>		
		<p>ARGO is a lightweight service for Service Level Monitoring designed for medium and large sized e-Infrastructures. </p>
   	</div>
	 <div class="col-md-offset-1 col-md-3">
		<h4>Contact Us</h4>
		<address>
 		<strong>Email</strong><br>
      <a href="mailto:argoeu-project@googlegroups.com" style='color:white;'>argoeu-project[AT]googlegroups.com</a>
		</address>
   	</div>
 	<div class="col-md-3">
		<h4>Open development </h4>
    <p> We follow an open development process. All the repositories of ARGO are hosted on Github under the ARGOeu organization.</p>
   	</div>
    <div class="col-md-1"></div>
      </div>
      </div><!--footer_top-->
      <div class="footer_bottom_holder">
	<div class="footer_bottom">
    <div class="textwidget"><span>Copyright &copy; 2014 - 2015 GRNET S.A. </span>
    </div>
  <div class="textwidget"><span>
      <a href='http://validator.w3.org/check?uri=referer' target='blank'>
        <img src='/shared/images/validated.png' alt='HTML5 - CSS3 - W3C Validated' title='HTML5 - CSS3 - W3C Validated' height="30"/>
       </a>
    </span>
  </div>
	</div>
     </div>	
    </footer>
<!--/footer -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/shared/js/jquery.min.js"></script>
    <script src="/shared/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="/shared/js/ie10-viewport-bug-workaround.js"></script>
      <script src="/shared/js/jquery.easing.1.3.js"></script>
  <script src="/shared/js/jquery.animate-enhanced.min.js"></script>
  <script src="/shared/js/jquery.superslides.min.js" type="text/javascript" charset="utf-8"></script>
  <script>
    $(function() {
    

      $('#slides').superslides({
        hashchange: false,
        play: 10000
      });

    });
  </script>

</body>
</html>
